(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15ee2526"],{2355:function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var a=c("7a23"),r=Object(a["withScopeId"])("data-v-50c6538f");Object(a["pushScopeId"])("data-v-50c6538f");var n=Object(a["createVNode"])("div",{class:"navbar-bg"},null,-1),s={class:"container cart-panel mb-12"},o={class:"row g-8"},l={class:"col-lg-8"},i={class:"rounded shadow-sm bg-white p-8"},d={key:0,class:"d-flex align-items-center"},b={class:"fs-4 me-auto"},p=Object(a["createTextVNode"])("移除所有商品"),u={key:1,class:"d-flex justify-content-center align-content-center"},f=Object(a["createTextVNode"])("立即前往購物"),j={class:"list-unstyled"},O={class:"d-flex flex-wrap justify-content-between pb-2"},g={class:"d-flex"},v=Object(a["createVNode"])("p",{class:"\n                      fs-7\n                      align-self-start\n                      d-flex\n                      align-items-center\n                      text-primary\n                      border border-primary\n                      px-1\n                      mb-0\n                    "},[Object(a["createVNode"])("span",{class:"material-icons ms-2px"}," local_fire_department "),Object(a["createVNode"])("span",{class:"ms-1"},"熱銷商品")],-1),m={key:0,class:"\n                      fs-7\n                      align-self-start\n                      d-flex\n                      align-items-center\n                      text-success\n                      border border-success\n                      px-1\n                      ms-2\n                      mb-0\n                    "},x=Object(a["createVNode"])("span",{class:"material-icons ms-2px"}," local_shipping ",-1),h=Object(a["createVNode"])("span",{class:"ms-1"},"免運費",-1),N={class:"pt-2 pt-sm-0"},V={class:"d-flex flex-wrap flex-sm-nowrap"},k={class:"\n                    d-flex\n                    flex-column\n                    justify-content-between\n                    mt-5 mt-sm-0\n                    ps-sm-5\n                    flex-grow-1\n                  "},y={class:"d-flex flex-wrap"},w={class:"flex-grow-1 flex-shrink-1"},C={class:"fs-3 mb-2px"},S={class:"fs-7 text-black-300"},D={class:"fs-7 text-black-200"},$=Object(a["createTextVNode"])(" 分類: "),B={class:"\n                        align-self-start\n                        d-flex\n                        align-items-center\n                        flex-shrink-0\n                      "},_=Object(a["createVNode"])("span",{class:"fs-6 text-black-200 py-5 py-md-0"},"購買數量",-1),L={class:"position-relative"},T={class:"\n                            d-block\n                            text-center\n                            quantity-text\n                            rounded\n                            border border-black-300\n                            fs-5\n                            ms-5\n                            pe-6\n                            mb-1px\n                          "},q=Object(a["createVNode"])("span",{class:"material-icons"}," arrow_drop_up ",-1),I=Object(a["createVNode"])("span",{class:"material-icons border-0"}," arrow_drop_down ",-1),R={class:"text-wrap tracking-2 text-black-200"},Q={class:"d-flex flex-wrap align-items-center"},A={class:"d-flex flex-wrap align-items-center flex-grow-1"},F=Object(a["createVNode"])("span",{class:"text-danger material-icons"}," delete ",-1),M=Object(a["createVNode"])("span",{class:"ms-1"},"移除商品",-1),J={class:"fs-4"},U={class:"rounded shadow-sm bg-white p-8 mt-8"},H={class:"d-flex"},Y=Object(a["createVNode"])("span",{class:"fs-4 flex-lg-grow-1"},"預計到貨日",-1),z={class:"fs-3"},E=Object(a["createVNode"])("p",{class:"fw-light"}," (下定後預計兩日到貨，如下標時間超過下午5點則再順延一日) ",-1),G={class:"col-lg-4"},K={class:"total-price-panel position-sticky"},P={class:"rounded shadow-sm bg-white p-8"},W=Object(a["createVNode"])("p",{class:"fs-4"},"總金額",-1),X={class:"d-flex text-black-400"},Z=Object(a["createVNode"])("span",{class:"flex-grow-1"},"金額",-1),ee=Object(a["createVNode"])("p",{class:"d-flex text-black-400"},[Object(a["createVNode"])("span",{class:"flex-grow-1"},"運費"),Object(a["createVNode"])("span",null,"NT$ 100 元")],-1),te=Object(a["createTextVNode"])("結帳 ");Object(a["popScopeId"])();var ce=r((function(e,t,c,ce,ae,re){var ne,se,oe,le,ie=Object(a["resolveComponent"])("Button"),de=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[n,Object(a["createVNode"])("section",s,[Object(a["createVNode"])("div",o,[Object(a["createVNode"])("div",l,[Object(a["createVNode"])("div",i,[0!==(null===(ne=ae.cartsData.carts)||void 0===ne?void 0:ne.length)?(Object(a["openBlock"])(),Object(a["createBlock"])("div",d,[Object(a["createVNode"])("span",b,Object(a["toDisplayString"])(null===(se=ae.cartsData.carts)||void 0===se?void 0:se.length)+" 件商品",1),Object(a["createVNode"])(ie,{onClick:re.removeAllCarts,class:"remove-all-products-btn"},{default:r((function(){return[p]})),_:1},8,["onClick"])])):(Object(a["openBlock"])(),Object(a["createBlock"])("div",u,[Object(a["createVNode"])(de,{to:"/products"},{default:r((function(){return[Object(a["createVNode"])(ie,{class:"px-5 py-2"},{default:r((function(){return[f]})),_:1})]})),_:1})])),Object(a["createVNode"])("ul",j,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(ae.cartsData.carts,(function(e){var t,c;return Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:"product-item py-8",key:e.id},[Object(a["createVNode"])("div",O,[Object(a["createVNode"])("div",g,[v,e.product.freeDelivery?(Object(a["openBlock"])(),Object(a["createBlock"])("p",m,[x,h])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("span",N,"單價 NT$ "+Object(a["toDisplayString"])(null===(t=e.product.price)||void 0===t?void 0:t.toLocaleString())+" 元",1)]),Object(a["createVNode"])("div",V,[Object(a["createVNode"])("div",{class:"product-img",style:{"background-image":"url(".concat(e.product.imageUrl||e.product.imagesUrl[0],")")}},null,4),Object(a["createVNode"])("div",k,[Object(a["createVNode"])("div",y,[Object(a["createVNode"])("div",w,[Object(a["createVNode"])("h2",C,[Object(a["createVNode"])(de,{to:"/product/".concat(e.product.id),class:"text-decoration-none text-nowrap"},{default:r((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.product.title),1)]})),_:2},1032,["to"])]),Object(a["createVNode"])("h4",S,Object(a["toDisplayString"])(e.product.description),1),Object(a["createVNode"])("h4",D,[$,Object(a["createVNode"])("a",{href:"javascript:;",onClick:function(t){return re.searchCategory(e.product.category)}},Object(a["toDisplayString"])(e.product.category),9,["onClick"])])]),Object(a["createVNode"])("div",B,[_,Object(a["createVNode"])("div",L,[Object(a["createVNode"])("span",T,Object(a["toDisplayString"])(e.qty),1),Object(a["createVNode"])("button",{type:"button",class:"\n                            quntity-btn\n                            h-50\n                            border-1 border-black-300\n                            position-absolute\n                            end-0\n                            top-0\n                            p-0\n                          ",onClick:Object(a["withModifiers"])((function(t){return re.handQty(e,1)}),["stop"])},[q],8,["onClick"]),Object(a["createVNode"])("button",{type:"button",class:"\n                            quntity-btn\n                            h-50\n                            border-1 border-black-300\n                            position-absolute\n                            top-50\n                            end-0\n                            p-0\n                            mt-n1px\n                          ",onClick:Object(a["withModifiers"])((function(t){return re.handQty(e,-1)}),["stop"])},[I],8,["onClick"])])])]),Object(a["createVNode"])("p",R,Object(a["toDisplayString"])(e.product.content),1),Object(a["createVNode"])("div",Q,[Object(a["createVNode"])("div",A,[Object(a["createVNode"])("button",{type:"button",class:"\n                          product-remove-btn\n                          border-0\n                          bg-transparent\n                          d-flex\n                          align-items-center\n                          p-0\n                        ",onClick:function(t){return re.removeCart(e.id)}},[F,M],8,["onClick"])]),Object(a["createVNode"])("span",J,"NT$ "+Object(a["toDisplayString"])(null===(c=e.total)||void 0===c?void 0:c.toLocaleString())+" 元",1)])])])])})),128))])]),Object(a["createVNode"])("div",U,[Object(a["createVNode"])("p",H,[Y,Object(a["createVNode"])("span",z,Object(a["toDisplayString"])(re.deliveryTime),1)]),E])]),Object(a["createVNode"])("div",G,[Object(a["createVNode"])("div",K,[Object(a["createVNode"])("div",P,[W,Object(a["createVNode"])("p",X,[Z,Object(a["createVNode"])("span",null,"NT$ "+Object(a["toDisplayString"])(null===(oe=ae.cartsData.total)||void 0===oe?void 0:oe.toLocaleString())+" 元",1)]),ee,null!==(le=ae.cartsData.carts)&&void 0!==le&&le.length?(Object(a["openBlock"])(),Object(a["createBlock"])(de,{key:0,to:"/checkout",class:"d-inline-block w-100"},{default:r((function(){return[Object(a["createVNode"])(ie,{class:"fs-5 w-100 py-3"},{default:r((function(){return[te]})),_:1})]})),_:1})):Object(a["createCommentVNode"])("",!0)])])])])])],64)})),ae=c("5530"),re=c("1da1"),ne=(c("99af"),c("96cf"),c("2f34")),se=c("365c"),oe=c("8271"),le={name:"Cart",components:{Button:oe["a"]},data:function(){return{productNum:1,isQtyLoad:!1,cartsData:[]}},methods:{handQty:function(e,t){var c=this;return Object(re["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=Object(ae["a"])({},e),r.qty=e.qty+t<=1?1:e.qty+t,r.qty!==e.qty){a.next=4;break}return a.abrupt("return");case 4:return c.$store.dispatch("handIsLoading",!0),a.prev=5,a.next=8,Object(se["A"])(r);case 8:if(n=a.sent,s=n.data,!s.success){a.next=16;break}return a.next=13,c.$store.dispatch("getCarts");case 13:Object(ne["a"])("成功更新數量!"),a.next=17;break;case 16:Object(ne["a"])("發生錯誤!","danger");case 17:a.next=22;break;case 19:a.prev=19,a.t0=a["catch"](5),Object(ne["a"])("發生錯誤!","danger");case 22:c.$store.dispatch("handIsLoading",!1);case 23:case"end":return a.stop()}}),a,null,[[5,19]])})))()},removeCart:function(e){var t=this;return Object(re["a"])(regeneratorRuntime.mark((function c(){var a,r;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return t.$store.dispatch("handIsLoading",!0),c.prev=1,c.next=4,Object(se["d"])(e);case 4:if(a=c.sent,r=a.data,!r.success){c.next=12;break}return c.next=9,t.$store.dispatch("getCarts");case 9:Object(ne["a"])("成功移除商品!"),c.next=13;break;case 12:Object(ne["a"])("發生錯誤!","danger");case 13:c.next=18;break;case 15:c.prev=15,c.t0=c["catch"](1),Object(ne["a"])("發生錯誤!","danger");case 18:t.$store.dispatch("handIsLoading",!1);case 19:case"end":return c.stop()}}),c,null,[[1,15]])})))()},removeAllCarts:function(){var e=this;return Object(re["a"])(regeneratorRuntime.mark((function t(){var c,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("handIsLoading",!0),t.prev=1,t.next=4,Object(se["b"])();case 4:if(c=t.sent,a=c.data,!a.success){t.next=12;break}return Object(ne["a"])("成功移除!"),t.next=10,e.$store.dispatch("getCarts");case 10:t.next=13;break;case 12:Object(ne["a"])("發生錯誤!","danger");case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),Object(ne["a"])("發生錯誤!","danger");case 18:e.$store.dispatch("handIsLoading",!1);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})))()},searchCategory:function(e){this.$router.push({path:"/products",query:{category:e}})}},computed:{deliveryTime:function(){var e=["日","一","二","三","四","五","六"],t=new Date,c=t.getFullYear(),a=t.getMonth()+1,r=t.getDate(),n=t.getDay(),s=t.getHours(),o=s>=17?r+3:r+2,l=s>=17?n+3:n+2;7===l?l=0:8===l?l=1:9===l&&(l=2);var i="".concat(c," / ").concat(a," / ").concat(o," 星期").concat(e[l]);return i}},watch:{"$store.getters.cartsData":{handler:function(e){this.cartsData=e}}},created:function(){this.$store.dispatch("getCarts")}};c("adcf");le.render=ce,le.__scopeId="data-v-50c6538f";t["default"]=le},adcf:function(e,t,c){"use strict";c("bf5a")},bf5a:function(e,t,c){},e01a:function(e,t,c){"use strict";var a=c("23e7"),r=c("83ab"),n=c("da84"),s=c("5135"),o=c("861d"),l=c("9bf2").f,i=c("e893"),d=n.Symbol;if(r&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var b={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new d(e):void 0===e?d():d(e);return""===e&&(b[t]=!0),t};i(p,d);var u=p.prototype=d.prototype;u.constructor=p;var f=u.toString,j="Symbol(test)"==String(d("test")),O=/^Symbol\((.*)\)[^)]+$/;l(u,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=f.call(e);if(s(b,e))return"";var c=j?t.slice(7,-1):t.replace(O,"$1");return""===c?void 0:c}}),a({global:!0,forced:!0},{Symbol:p})}}}]);
//# sourceMappingURL=chunk-15ee2526.32aef4e1.js.map