(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68c6e6b6"],{"0fd0":function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var n=c("7a23"),r=Object(n["withScopeId"])("data-v-0a90acd4");Object(n["pushScopeId"])("data-v-0a90acd4");var o=Object(n["createVNode"])("div",{class:"nav-bg"},null,-1),a={class:"row gx-12"},s={class:"product-img-list col-lg-6 list-unstyled order-2 order-lg-1 mb-0"},i={class:"col-lg-6 order-1 order-lg-2"},d={class:"product-content position-sticky"},l={class:"d-flex flex-wrap justify-content-between pt-1"},b={class:"fw-bold lh-1 overflow-hidden order-2 order-sm-1"},u={class:"product-title d-block"},p={class:"d-flex order-1 order-sm-2 pb-5 pb-sm-0"},j=Object(n["createVNode"])("p",{class:"\n                  fs-7\n                  align-self-start\n                  d-flex\n                  align-items-center\n                  text-primary\n                  border border-primary\n                  px-1\n                  mb-0\n                "},[Object(n["createVNode"])("span",{class:"material-icons ms-2px"}," local_fire_department "),Object(n["createVNode"])("span",{class:"ms-1"},"熱銷商品")],-1),O={key:0,class:"\n                  fs-7\n                  align-self-start\n                  d-flex\n                  align-items-center\n                  text-success\n                  border border-success\n                  px-1\n                  ms-2\n                  mb-0\n                "},m=Object(n["createVNode"])("span",{class:"material-icons ms-2px"}," local_shipping ",-1),g=Object(n["createVNode"])("span",{class:"ms-1"},"免運費",-1),h={class:"fs-6 text-black-300 overflow-hidden"},f={class:"product-material d-block"},N={class:"fs-6 mb-0 lh-1 pt-2"},w={class:"\n                text-black-200 text-decoration-line-through\n                d-inline-block\n                w-50\n              "},V={class:"fs-5 text-primary d-inline-block w-50"},x=Object(n["createVNode"])("hr",{class:"text-black-300"},null,-1),k={class:"text-wrap lh-lg fs-5 fw-light text-black-100 py-5"},v={class:"\n              bg-white\n              border border-gray-300\n              shadow-inset\n              rounded\n              p-5 p-sm-10\n            "},y={class:"d-flex align-items-center"},S=Object(n["createVNode"])("span",{class:"fs-6 text-black-200"},"購買數量",-1),C={class:"position-relative"},B={class:"\n                    d-inline-block\n                    text-center\n                    quantity-text\n                    rounded\n                    border border-black-300\n                    fs-5\n                    ms-12\n                    pe-6\n                    mb-1px\n                  "},L=Object(n["createVNode"])("span",{class:"material-icons"}," arrow_drop_up ",-1),I=Object(n["createVNode"])("span",{class:"material-icons border-0"}," arrow_drop_down ",-1),_=Object(n["createTextVNode"])("加入購物車 "),D={class:"\n              bg-white\n              border border-gray-300\n              shadow-inset\n              rounded\n              px-5 px-sm-10 py-8\n              mt-5\n            "},$={class:"table table-hover w-100"},P=Object(n["createVNode"])("thead",null,[Object(n["createVNode"])("tr",null,[Object(n["createVNode"])("th",null,"熱量"),Object(n["createVNode"])("th",null,"每份")])],-1),U=Object(n["createVNode"])("td",null,"熱量 (Kcal):",-1),R=Object(n["createVNode"])("td",null,"蛋白質 (g):",-1),A=Object(n["createVNode"])("td",null,"脂肪 (g):",-1),q={class:"product-panel bg-white rounded shadow-sm container p-5 p-sm-10 my-10"},F=Object(n["createVNode"])("h2",{class:"fs-4 text-primary mb-6"},"您可能感興趣的商品",-1),T={class:"\n              swiper-content\n              position-absolute\n              text-white\n              bottom-0\n              h-50\n              w-100\n              d-flex align-items-end\n              px-5\n            "},E={class:"text-reset text-decoration-none"};Object(n["popScopeId"])();var H=r((function(e,t,c,H,J,K){var z,G,M=Object(n["resolveComponent"])("Button"),Q=Object(n["resolveComponent"])("router-link"),W=Object(n["resolveComponent"])("SwiperSlide"),X=Object(n["resolveComponent"])("Swiper"),Y=Object(n["resolveComponent"])("VueEasyLightbox");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[o,Object(n["createVNode"])("section",{class:["product-panel bg-white rounded shadow-sm container p-5 p-sm-10",{active:!J.isAnimeReset}]},[Object(n["createVNode"])("div",a,[Object(n["createVNode"])("ul",s,[J.product.imageUrl?(Object(n["openBlock"])(),Object(n["createBlock"])("li",{key:0,class:"product-img rounded",style:{"background-image":"url(".concat(J.product.imageUrl,")")},onClick:t[1]||(t[1]=function(e){return K.showLightbox(0)})},null,4)):Object(n["createCommentVNode"])("",!0),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(J.product.imagesUrl,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("li",{key:e+t,style:{"background-image":"url(".concat(e,")")},class:"product-img rounded",onClick:function(e){return K.showLightbox(J.product.imageUrl?t+1:t)}},null,12,["onClick"])})),128))]),Object(n["createVNode"])("div",i,[Object(n["createVNode"])("div",d,[Object(n["createVNode"])("div",l,[Object(n["createVNode"])("h2",b,[Object(n["createVNode"])("span",u,Object(n["toDisplayString"])(J.product.title),1)]),Object(n["createVNode"])("div",p,[j,J.product.freeDelivery?(Object(n["openBlock"])(),Object(n["createBlock"])("p",O,[m,g])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createVNode"])("h4",h,[Object(n["createVNode"])("span",f,Object(n["toDisplayString"])(J.product.description),1)]),Object(n["createVNode"])("p",N,[Object(n["createVNode"])("span",w,"NT$"+Object(n["toDisplayString"])(null===(z=J.product.origin_price)||void 0===z?void 0:z.toLocaleString()),1),Object(n["createVNode"])("span",V,"NT$"+Object(n["toDisplayString"])(null===(G=J.product.price)||void 0===G?void 0:G.toLocaleString()),1)]),x,Object(n["createVNode"])("p",k,Object(n["toDisplayString"])(J.product.content),1),Object(n["createVNode"])("div",v,[Object(n["createVNode"])("div",y,[S,Object(n["createVNode"])("div",C,[Object(n["createVNode"])("span",B,Object(n["toDisplayString"])(J.productNum),1),Object(n["createVNode"])("button",{type:"button",class:"\n                    quntity-btn\n                    h-50\n                    border-1 border-black-300\n                    position-absolute\n                    end-0\n                    top-0\n                    p-0\n                  ",onClick:t[2]||(t[2]=function(e){return J.productNum++})},[L]),Object(n["createVNode"])("button",{type:"button",class:"\n                    quntity-btn\n                    h-50\n                    border-1 border-black-300\n                    position-absolute\n                    top-50\n                    end-0\n                    p-0\n                    mt-n1px\n                  ",onClick:t[3]||(t[3]=function(e){return J.productNum=J.productNum<=1?1:J.productNum-1})},[I])])]),Object(n["createVNode"])(M,{bgColor:"danger",class:["fs-5 w-100 py-5 mt-8",{active:J.isAnimeReset}],onClick:K.addCart},{default:r((function(){return[_]})),_:1},8,["class","onClick"])]),Object(n["createVNode"])("div",D,[Object(n["createVNode"])("table",$,[P,Object(n["createVNode"])("tbody",null,[Object(n["createVNode"])("tr",null,[U,Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(J.product.calories),1)]),Object(n["createVNode"])("tr",null,[R,Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(J.product.protein),1)]),Object(n["createVNode"])("tr",null,[A,Object(n["createVNode"])("td",null,Object(n["toDisplayString"])(J.product.fat),1)])])])])])])])],2),Object(n["createVNode"])("section",q,[F,Object(n["createVNode"])(X,{"space-between":50,autoplay:{delay:5e3,disableOnInteraction:!1},speed:2e3,loop:!0,breakpoints:{640:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:40},1024:{slidesPerView:3,spaceBetween:50}},onSwiper:K.setControlledSwiper},{default:r((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(J.products,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(W,{key:t,class:"rounded overflow-hidden bg-info"},{default:r((function(){return[Object(n["createVNode"])(Q,{to:"/product/".concat(e.id),class:"swiper-item position-relative d-block"},{default:r((function(){return[Object(n["createVNode"])("div",{class:"swiper-img",style:{"background-image":"url(".concat(e.imageUrl||e.imagesUrl[0],")")}},null,4),Object(n["createVNode"])("div",T,[Object(n["createVNode"])("div",E,[Object(n["createVNode"])("h2",null,Object(n["toDisplayString"])(e.title),1),Object(n["createVNode"])("p",null,Object(n["toDisplayString"])(e.description),1)])])]})),_:2},1032,["to"])]})),_:2},1024)})),128))]})),_:1},8,["onSwiper"])]),Object(n["createVNode"])(Y,{moveDisabled:"",visible:J.isLightboxShow,imgs:J.lightboxImgs,index:J.lightboxIndex,onHide:K.hideLightbox},null,8,["visible","imgs","index","onHide"])],64)})),J=c("2909"),K=c("1da1"),z=(c("96cf"),c("99af"),c("b0c0"),c("365c")),G=c("2f34"),M=c("825ae"),Q=c("90ea"),W=c("a16a"),X=c("6d3b"),Y=c("d17a"),Z=(c("5f67"),c("8271"));X["a"].use(Y["a"]);var ee={name:"Product",components:{VueEasyLightbox:M["a"],Swiper:Q["a"],SwiperSlide:W["a"],Button:Z["a"]},data:function(){return{isLightboxShow:!1,lightboxImgs:[],lightboxIndex:0,productNum:1,product:{},isAnimeReset:!1,products:{}}},methods:{getProductInfo:function(e){var t=this;return Object(K["a"])(regeneratorRuntime.mark((function c(){var n,r;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return t.isAnimeReset=!0,c.prev=1,c.next=4,Object(z["n"])(e);case 4:n=c.sent,r=n.data,r.success?(t.product=r.product,t.isAnimeReset=!1,t.lightboxImgs=r.product.imageUrl?[r.product.imageUrl].concat(Object(J["a"])(r.product.imagesUrl||[])):r.product.imagesUrl||[]):Object(G["a"])("無法取得資料!","danger"),c.next=12;break;case 9:c.prev=9,c.t0=c["catch"](1),Object(G["a"])("無法取得資料!","danger");case 12:case"end":return c.stop()}}),c,null,[[1,9]])})))()},showLightbox:function(e){this.lightboxIndex=e,this.isLightboxShow=!0},hideLightbox:function(){this.isLightboxShow=!1},addCart:function(){var e=this;return Object(K["a"])(regeneratorRuntime.mark((function t(){var c,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("handIsLoading",!0),c=e.product.id,t.prev=2,t.next=5,Object(z["s"])(c,e.productNum);case 5:if(n=t.sent,r=n.data,!r.success){t.next=15;break}return t.next=10,e.$store.dispatch("getCarts");case 10:e.$emitter.emit("showCartCanvas",!0),Object(G["a"])("成功加入購物車!","success"),e.productNum=1,t.next=16;break;case 15:Object(G["a"])("發生錯誤!","danger");case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](2),Object(G["a"])("發生錯誤!","danger");case 21:e.$store.dispatch("handIsLoading",!1);case 22:case"end":return t.stop()}}),t,null,[[2,18]])})))()},setControlledSwiper:function(e){this.swiper=e,e.autoplay.start()}},created:function(){this.getProductInfo(this.$route.params.id),this.$store.dispatch("getAllProducts")},watch:{"$route.params.id":{handler:function(e){"Product"===this.$route.name&&this.getProductInfo(e)}},"$store.getters.allProducts":{handler:function(e){this.products=e}}}};c("fdc9"),c("54aa");ee.render=H,ee.__scopeId="data-v-0a90acd4";t["default"]=ee},"54aa":function(e,t,c){"use strict";c("a3fa")},a3fa:function(e,t,c){},a5e5:function(e,t,c){},fdc9:function(e,t,c){"use strict";c("a5e5")}}]);
//# sourceMappingURL=chunk-68c6e6b6.cc2cd4a6.js.map